import{A as K}from"./api-CIkJTggI.js";import{m as Q,r as y,p as v,j as X,c as j,b as e,w as a,d as s,F as N,o as w,f as i,k as Y,g as A,q as Z,e as L,n as O}from"./index-BdyWt8Po.js";const ee={class:"dialog-footer"},le={class:"dialog-footer"},ne={__name:"auth",setup(ae){const{proxy:R}=Q(),h=y([]),T=v([{prop:"work_type",label:"班次",width:60},{prop:"serial",label:"当日流水号",width:120},{prop:"auth_name",label:"客服名字",width:100},{prop:"equipment",label:"客服设备",width:100},{prop:"user_name",label:"客户名",width:130},{prop:"card_type",label:"卡种",width:130},{prop:"rate",label:"汇率",width:80},{prop:"handling",label:"手续费",width:100},{prop:"rate",label:"付款金额",width:100},{prop:"rate",label:"卡片面额",width:100},{prop:"card_country",label:"卡国家",width:130},{prop:"card_code",label:"卡代码",width:130},{prop:"channel",label:"出卡渠道",width:100},{prop:"status",label:"状态",width:130}]),o=y({id:"",uuid:"",work_type:"",serial:"",auth_name:"",equipment:"",user_name:"",card_type:"",card_country:"",card_code:"",handling:"",status:"",card_info:""}),f=y(!1),g=y(!1),r=v({total:0,current:1,page_size:20,total_pages:1}),m=v({user_name:null,auth_name:null}),B=()=>{r.current=1,c()},k=()=>{Object.keys(m).forEach(u=>{m[u]=""}),r.current=1,c()},P=u=>{r.page_size=u,r.current=1,c()},E=u=>{r.current=u,c()},x=()=>{f.value=!1},C=()=>{g.value=!1},$=async u=>{f.value=!0,O(()=>{Object.assign(o.value,u)})},F=async u=>{g.value=!0,O(()=>{Object.assign(o.value,u)})},D=async()=>{},I=async()=>{f.value=!0},c=async()=>{try{const u=new URL(K.auth.auth_list),l=new URLSearchParams;Object.entries(m).forEach(([p,n])=>{n!=null&&n!==""&&l.append(p,n)}),r.current&&l.append("current",r.current),l.append("page_size",r.page_size),l.append("type_",1),u.search=l.toString();const d=await R.$api.get(u,{});console.log(111,d),r.total=d.pagination.total,r.current=d.pagination.current,r.total_pages=d.pagination.total_pages,h.value=d.list,lastUpdateTime.value=new Date().toLocaleString("zh-CN")}catch{}};return X(()=>{c()}),(u,l)=>{const d=s("el-input"),p=s("el-form-item"),n=s("el-col"),b=s("el-row"),V=s("el-form"),_=s("el-button"),U=s("el-table-column"),z=s("el-dropdown-item"),M=s("el-dropdown-menu"),W=s("el-dropdown"),G=s("el-table"),H=s("el-pagination"),q=s("el-tabs"),S=s("el-dialog");return w(),j(N,null,[e(b,{gutter:24,style:{"align-items":"center","margin-top":"10px"}},{default:a(()=>[e(n,{span:16},{default:a(()=>[e(V,{inline:!0,model:m},{default:a(()=>[e(b,{gutter:20},{default:a(()=>[e(n,{span:8,style:{display:"flex","align-items":"center","line-height":"100%"}},{default:a(()=>[e(p,{label:"客服名字：",style:{margin:"5px",flex:"10","margin-left":"10px"}},{default:a(()=>[e(d,{modelValue:m.auth_name,"onUpdate:modelValue":l[0]||(l[0]=t=>m.auth_name=t),placeholder:"请输入客服名字",style:{width:"200px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:8,style:{display:"flex","align-items":"center","line-height":"100%"}},{default:a(()=>[e(p,{label:"客户名：",style:{margin:"5px",flex:"10","margin-left":"10px"}},{default:a(()=>[e(d,{modelValue:m.user_name,"onUpdate:modelValue":l[1]||(l[1]=t=>m.user_name=t),placeholder:"请输入客户名",style:{width:"200px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(n,{span:16},{default:a(()=>l[15]||(l[15]=[i(" 银行余额、余额汇率、奈拉汇率、汇率计算器 不能变动 ")])),_:1,__:[15]}),e(n,{span:8,style:{display:"flex","align-items":"center",gap:"8px"}},{default:a(()=>[e(_,{type:"primary",onClick:B},{default:a(()=>l[16]||(l[16]=[i("搜索")])),_:1,__:[16]}),e(_,{type:"info",onClick:k},{default:a(()=>l[17]||(l[17]=[i("重置")])),_:1,__:[17]}),e(_,{type:"info",onClick:k},{default:a(()=>l[18]||(l[18]=[i("弹出式计算器")])),_:1,__:[18]}),e(_,{type:"info",onClick:I},{default:a(()=>l[19]||(l[19]=[i("添加")])),_:1,__:[19]})]),_:1})]),_:1}),e(G,{data:h.value,border:"",style:{width:"100%"}},{default:a(()=>[(w(!0),j(N,null,Y(T,t=>(w(),A(U,{key:t.prop,label:t.label,prop:t.prop,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},null,8,["label","prop","width","min-width"]))),128)),e(U,{fixed:"right",label:"操作",align:"center","min-width":"70"},{default:a(t=>[e(W,{trigger:"click"},{dropdown:a(()=>[e(M,null,{default:a(()=>[t.row.status===0?(w(),A(z,{key:0,onClick:J=>$(t.row)},{default:a(()=>l[21]||(l[21]=[i("修改")])),_:2,__:[21]},1032,["onClick"])):Z("",!0),e(z,{onClick:J=>F(t.row)},{default:a(()=>l[22]||(l[22]=[i("详情")])),_:2,__:[22]},1032,["onClick"])]),_:2},1024)]),default:a(()=>[e(_,{type:"primary",link:"",size:"small"},{default:a(()=>l[20]||(l[20]=[i(" 点击操作 ")])),_:1,__:[20]})]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(H,{"current-page":r.current,"onUpdate:currentPage":l[2]||(l[2]=t=>r.current=t),layout:"total, sizes, prev, pager, next, jumper","page-size":r.page_size,"page-sizes":[10,20,50,100],total:r.total,onCurrentChange:E,onSizeChange:P},null,8,["current-page","page-size","total"]),e(S,{modelValue:f.value,"onUpdate:modelValue":l[9]||(l[9]=t=>f.value=t),"before-close":x,"close-on-click-modal":!1,title:"修改客服参数"},{footer:a(()=>[L("div",ee,[e(_,{onClick:x},{default:a(()=>l[23]||(l[23]=[i("取消")])),_:1,__:[23]}),e(_,{type:"primary",onClick:D},{default:a(()=>l[24]||(l[24]=[i("提交")])),_:1,__:[24]})])]),default:a(()=>[e(V,{ref:"amountformRef",class:"dialog-form","label-width":"100px",model:o.value},{default:a(()=>[e(q,{type:"border-card"},{default:a(()=>[e(b,{gutter:20},{default:a(()=>[e(n,{span:12},{default:a(()=>[e(p,{label:"客服设备：",prop:"equipment"},{default:a(()=>[e(d,{modelValue:o.value.equipment,"onUpdate:modelValue":l[3]||(l[3]=t=>o.value.equipment=t),placeholder:"请输入客服设备"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡种：",prop:"card_type"},{default:a(()=>[e(d,{modelValue:o.value.card_type,"onUpdate:modelValue":l[4]||(l[4]=t=>o.value.card_type=t),placeholder:"请输入卡种"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡国家：",prop:"card_country"},{default:a(()=>[e(d,{modelValue:o.value.card_country,"onUpdate:modelValue":l[5]||(l[5]=t=>o.value.card_country=t),placeholder:"请输入卡国家"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"手续费：",prop:"handling"},{default:a(()=>[e(d,{modelValue:o.value.handling,"onUpdate:modelValue":l[6]||(l[6]=t=>o.value.handling=t),placeholder:"请输入手续费"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡代码：",prop:"card_code"},{default:a(()=>[e(d,{modelValue:o.value.card_code,"onUpdate:modelValue":l[7]||(l[7]=t=>o.value.card_code=t),placeholder:"请输入卡代码"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡片信息：",prop:"card_info"},{default:a(()=>[e(d,{modelValue:o.value.card_info,"onUpdate:modelValue":l[8]||(l[8]=t=>o.value.card_info=t),placeholder:"请粘贴卡片信息"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(S,{modelValue:g.value,"onUpdate:modelValue":l[14]||(l[14]=t=>g.value=t),"before-close":C,"close-on-click-modal":!1,title:"客服详情"},{footer:a(()=>[L("div",le,[e(_,{onClick:C},{default:a(()=>l[25]||(l[25]=[i("取消")])),_:1,__:[25]})])]),default:a(()=>[e(V,{ref:"detailformRef",class:"dialog-form","label-width":"100px",model:o.value},{default:a(()=>[e(q,{type:"border-card"},{default:a(()=>[e(b,{gutter:20},{default:a(()=>[e(n,{span:12},{default:a(()=>[e(p,{label:"客服设备：",prop:"equipment"},{default:a(()=>[e(d,{modelValue:o.value.equipment,"onUpdate:modelValue":l[10]||(l[10]=t=>o.value.equipment=t),placeholder:"请输入客服设备"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡种：",prop:"card_type"},{default:a(()=>[e(d,{modelValue:o.value.card_type,"onUpdate:modelValue":l[11]||(l[11]=t=>o.value.card_type=t),placeholder:"请输入卡种"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡国家：",prop:"card_country"},{default:a(()=>[e(d,{modelValue:o.value.card_country,"onUpdate:modelValue":l[12]||(l[12]=t=>o.value.card_country=t),placeholder:"请输入卡国家"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{span:12},{default:a(()=>[e(p,{label:"卡代码：",prop:"card_code"},{default:a(()=>[e(d,{modelValue:o.value.card_code,"onUpdate:modelValue":l[13]||(l[13]=t=>o.value.card_code=t),placeholder:"请输入卡代码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}};export{ne as default};
